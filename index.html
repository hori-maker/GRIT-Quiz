<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>難民危機と人権保護に関するクイズ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'メイリオ', Meiryo, sans-serif;
        }
        .correct {
            background-color: #22c55e !important; /* green-500 */
            color: white !important;
            border-color: #16a34a !important; /* green-600 */
        }
        .incorrect {
            background-color: #ef4444 !important; /* red-500 */
            color: white !important;
            border-color: #dc2626 !important; /* red-600 */
        }
        .rationale {
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="bg-white w-full max-w-2xl rounded-2xl shadow-xl p-6 md:p-8 transition-all duration-500">
        
        <!-- Start Screen -->
        <div id="start-screen">
            <h1 class="text-2xl md:text-3xl font-bold text-slate-800 text-center">難民危機と人権保護に関するクイズ</h1>
            <p class="mt-4 text-slate-600 text-center">会議前の知識確認にご活用ください。準備ができたら、下のボタンを押してクイズを開始してください。</p>
            
            <div class="mt-8 flex justify-center">
                <button id="start-btn" class="w-full md:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors shadow-md">
                    クイズを開始
                </button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-slate-800">問題 <span id="question-number"></span>/10</h2>
                <div id="progress-bar" class="w-1/2 bg-slate-200 rounded-full h-2.5">
                    <div id="progress" class="bg-blue-600 h-2.5 rounded-full" style="width: 10%"></div>
                </div>
            </div>
            <p id="question-text" class="text-lg text-slate-700 mb-6 min-h-[6rem]"></p>
            
            <div id="answer-buttons" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Answer buttons will be generated here -->
            </div>

            <div id="rationale-container" class="mt-6">
                <!-- Rationale text will be shown here -->
            </div>
            
            <div class="mt-8 flex justify-end">
                <button id="next-btn" class="bg-slate-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-900 transition-colors shadow-md hidden">
                    次の問題へ
                </button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center">
            <h1 class="text-3xl font-bold text-slate-800">クイズ終了</h1>
            <p class="mt-4 text-lg text-slate-600">お疲れ様でした！</p>
            <div class="mt-8 bg-blue-100 border-2 border-blue-300 rounded-xl p-6">
                <p class="text-xl text-blue-800">あなたのスコア</p>
                <p id="score-text" class="text-6xl font-bold text-blue-700 my-2">8/10</p>
                <p id="score-message" class="text-blue-800 font-semibold"></p>
            </div>
            <div class="mt-8">
                <button id="restart-btn" class="w-full md:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors shadow-md">
                    もう一度挑戦する
                </button>
            </div>
        </div>

    </div>

    <script>
        const quizData = [
            {
                question: "「難民」と「庇護希望者」の主な違いは何ですか？",
                answers: [
                    { text: "難民は紛争から逃れた人、庇護希望者は経済的理由で移動した人です。", correct: false, rationale: "庇護を求める理由は紛争に限らず、迫害など多岐にわたります。また、経済的理由のみで移動する人は通常、両者の定義には含まれません。" },
                    { text: "難民は正式に認定された国際的保護の対象者であり、庇護希望者は難民認定申請中でまだ認定されていない人です。", correct: true, rationale: "法的な地位が確定しているか（難民）、まだ審査中であるか（庇護希望者）が、両者を区別する重要なポイントです。" },
                    { text: "難民は第三国定住を希望する人、庇護希望者は自国に帰還を希望する人です。", correct: false, rationale: "定住や帰還の希望は個人の意思であり、法的な定義とは直接関係ありません。" },
                    { text: "難民は国連が直接保護する人、庇護希望者は各国政府が保護する人です。", correct: false, rationale: "保護の主体は国連や各国政府など様々ですが、それが両者の定義を決定づけるものではありません。" }
                ]
            },
            {
                question: "「難民危機」とは、どのような状況を指しますか？",
                answers: [
                    { text: "特定の国が難民問題で経済的困難に直面している状況です。", correct: false, rationale: "経済的困難は危機の一側面ですが、原因や規模の広がりがこの用語の核心です。" },
                    { text: "多数の避難民が移動し、武力紛争、環境災害、人権侵害、経済危機などが原因で国際社会が対応困難な状況です。", correct: true, rationale: "複数の要因が絡み合い、大規模な人の移動が発生し、国際的な対応能力を超える点が特徴です。" },
                    { text: "国境を越えずに国内に留まる「国内避難民」が急増する状況です。", correct: false, rationale: "国内避難民も深刻な問題ですが、「難民危機」は通常、国境を越える移動を伴います。" },
                    { text: "難民キャンプの建設が遅れている状況です。", correct: false, rationale: "キャンプ建設の遅れは危機の結果の一つであり、危機そのものの定義ではありません。" }
                ]
            },
            {
                question: "庇護希望者が保護を得る上で直面する主要な障害として挙げられている「移民政策の外部化」とはどのようなものですか？",
                answers: [
                    { text: "庇護希望者に対して、より寛容な政策を持つ国へ移動するよう促すこと。", correct: false, rationale: "これは庇護希望者の選択を促すものであり、国が責任を外部化する政策とは異なります。" },
                    { text: "自国への入国を阻止し、第三国で庇護申請を処理させるオフショアでの手続き。", correct: true, rationale: "庇護申請のプロセスそのものを他国に移管するこの方法は、「外部化」の典型例です。" },
                    { text: "庇護申請のプロセスを迅速化し、早期に結論を出すこと。", correct: false, rationale: "プロセスの迅速化は国内の政策であり、責任を外部に移すものではありません。" },
                    { text: "受け入れ国での言語教育や職業訓練を充実させること。", correct: false, rationale: "これらは庇護希望者の社会統合を支援する政策であり、障害となるものではありません。" }
                ]
            },
            {
                question: "「押し返し（pushback）」が侵害する可能性のある最も重要な原則は何ですか？",
                answers: [
                    { text: "国家主権の原則", correct: false, rationale: "国家主権は国境管理の権利を含みますが、国際的な人権保護義務によってその行使は制約されます。" },
                    { text: "ノン・ルフールマン原則（迫害のおそれがある国への送還禁止）", correct: true, rationale: "庇護希望者を正式な審査なしに国境で追い返すことは、彼らを危険に晒す可能性があり、この原則に抵触します。" },
                    { text: "文化的多様性の原則", correct: false, rationale: "文化的多様性は社会のあり方に関する理念であり、個人の生命や安全を守るこの原則とは次元が異なります。" },
                    { text: "経済的自立の原則", correct: false, rationale: "経済的自立は難民支援の一つの目標ですが、送還禁止という基本的な保護原則とは直接関連しません。" }
                ]
            },
            {
                question: "「ダブリン規則」が抱える主な問題点は何ですか？",
                answers: [
                    { text: "難民の社会統合が遅れること。", correct: false, rationale: "社会統合は庇護が認められた後の課題であり、この規則が直接引き起こす問題点とは異なります。" },
                    { text: "庇護希望者が複数の国に申請してしまうこと。", correct: false, rationale: "この規則は、複数の国への申請（アサイラム・ショッピング）を防ぐことを目的としています。" },
                    { text: "地中海沿岸など一部の国に負担が集中すること。", correct: true, rationale: "庇護希望者が最初に到着した国に審査責任が偏るため、地理的に境界線に位置する国に不均衡な負担がかかります。" },
                    { text: "難民の強制帰還を促進してしまうこと。", correct: false, rationale: "この規則は申請責任の所在を決めるものであり、強制帰還を直接促進するものではありません。" }
                ]
            },
            {
                question: "「補完的保護」とはどのような枠組みですか？",
                answers: [
                    { text: "難民条約上の難民には該当しないが、国際保護を必要とする者の在留を認めて保護する制度です。", correct: true, rationale: "紛争や深刻な人権侵害から逃れてきた人々など、難minの定義から漏れる人々を保護するための重要なセーフティネットです。" },
                    { text: "特定の職業技能を持つ難民にのみ提供される特別な保護制度です。", correct: false, rationale: "特定の技能の有無は関係なく、保護の必要性そのものに基づいて判断されます。" },
                    { text: "紛争終結後に難民の自発的帰還を支援するプログラムです。", correct: false, rationale: "帰還支援は保護の一環ですが、補完的保護はまずその人の在留を認めることに焦点を当てています。" },
                    { text: "難民キャンプ内での食料供給を保証する制度です。", correct: false, rationale: "食料供給は人道支援の一環ですが、補完的保護は法的な在留資格を与える制度です。" }
                ]
            },
            {
                question: "模擬国連において政策を立案する際、どのようなアプローチが最も建設的とされていますか？",
                answers: [
                    { text: "自国の利益を最優先し、他国を説得すること。", correct: false, rationale: "模擬国連は国際協調を学ぶ場であり、自国の利益のみを追求する姿勢は評価されません。" },
                    { text: "理念の共有にとどまらない具体的な政策を立案すること。", correct: true, rationale: "抽象的な目標を掲げるだけでなく、どのように実現するかという具体的な道筋を示すことが、建設的な議論につながります。" },
                    { text: "他国の内政問題を積極的に指摘し、改善を要求すること。", correct: false, rationale: "内政不干渉は国連憲章の基本原則であり、これを尊重することが議論の前提となります。" },
                    { text: "特定の国や企業を名指しで批判し、責任を追及すること。", correct: false, rationale: "特定の国を非難することは対立を煽り、問題解決に向けた協力的な雰囲気の醸成を妨げます。" }
                ]
            },
            {
                question: "難民である子どもや女性が特に直面しやすい危険として、最も深刻なものの一つは何ですか？",
                answers: [
                    { text: "暴力や虐待", correct: true, rationale: "避難の過程やキャンプ生活において、子どもや女性は特に身体的、性的、精神的な暴力の標的となりやすいです。" },
                    { text: "現地の言語を習得できないこと。", correct: false, rationale: "言語の壁も困難の一つですが、生命や尊厳を直接脅かす暴力や虐待はより深刻な危険です。" },
                    { text: "伝統文化を維持できないこと。", correct: false, rationale: "文化の維持も重要ですが、個人の安全と保護が最優先されるべき課題です。" },
                    { text: "国際社会からの支援が不足すること。", correct: false, rationale: "支援不足は様々な危険の背景にありますが、「暴力や虐待」はより直接的で具体的な危険です。" }
                ]
            },
            {
                question: "子どもと女性の保護とエンパワーメントのために、国際社会が推奨する取り組みとして最も基本的なものは何ですか？",
                answers: [
                    { text: "性暴力の防止と対応、司法へのアクセス支援", correct: true, rationale: "被害者を保護し、加害者が処罰される公正な仕組みを確保することは、安全な環境を作るための第一歩です。" },
                    { text: "先進国への移住を促進すること。", correct: false, rationale: "移住は一つの選択肢ですが、全ての人のための基本的な取り組みとは言えません。" },
                    { text: "女性専用の職業訓練施設を設立すること。", correct: false, rationale: "職業訓練は経済的エンパワーメントに繋がる重要な取り組みですが、まずは安全の確保が優先されます。" },
                    { text: "難民キャンプ内でのリーダーシップ教育を行うこと。", correct: false, rationale: "リーダーシップ教育も社会参画を促す上で有益ですが、司法へのアクセスといった基本的な保護が前提となります。" }
                ]
            },
            // 10問目。オーストラリアの「パシフィック・ソリューション」に関する質問を追加
            {
                question: "オーストラリアの「パシフィック・ソリューション」は何の具体例として言及されていますか？",
                answers: [
                    { text: "ダブリン規則", correct: false, rationale: "ダブリン規則はEU域内での責任分担に関するルールであり、域外への「外部化」とは異なります。" },
                    { text: "移民政策の外部化", correct: true, rationale: "庇護申請のプロセスそのものを他国に移管するこの方法は、「外部化」の典型例です。" },
                    { text: "補完的保護", correct: false, rationale: "補完的保護は、難民条約の対象外の人を保護する制度であり、申請プロセスを他国に移すことではありません。" },
                    { text: "ノン・ルフールマン原則", correct: false, rationale: "ノン・ルフールマン原則は送還禁止の原則であり、特定の政策名を指すものではありません。" }
                ]
            }
        ];

        // Shuffle questions
        quizData.sort(() => Math.random() - 0.5);

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');

        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        
        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const answerButtonsEl = document.getElementById('answer-buttons');
        const rationaleContainerEl = document.getElementById('rationale-container');
        const scoreTextEl = document.getElementById('score-text');
        const scoreMessageEl = document.getElementById('score-message');
        const progressEl = document.getElementById('progress');

        let currentQuestionIndex = 0;
        let score = 0;

        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            showQuestion();
        });
        restartBtn.addEventListener('click', startQuiz);

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            quizData.sort(() => Math.random() - 0.5); // Re-shuffle for restart
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            resetState();
            if (currentQuestionIndex >= quizData.length) {
                showResult();
                return;
            }

            const currentQuestion = quizData[currentQuestionIndex];
            questionNumberEl.innerText = currentQuestionIndex + 1;
            questionTextEl.innerText = currentQuestion.question;

            // Shuffle answers
            currentQuestion.answers.sort(() => Math.random() - 0.5);

            currentQuestion.answers.forEach(answer => {
                const button = document.createElement('button');
                button.innerText = answer.text;
                button.classList.add('w-full', 'p-4', 'border-2', 'rounded-lg', 'text-left', 'transition-colors', 'duration-200', 'hover:bg-slate-100', 'hover:border-slate-400');
                if (answer.correct) {
                    button.dataset.correct = true;
                }
                button.dataset.rationale = answer.rationale;
                button.addEventListener('click', selectAnswer);
                answerButtonsEl.appendChild(button);
            });

            progressEl.style.width = `${((currentQuestionIndex + 1) / quizData.length) * 100}%`;
        }
        
        function resetState() {
            nextBtn.classList.add('hidden');
            while(answerButtonsEl.firstChild) {
                answerButtonsEl.removeChild(answerButtonsEl.firstChild);
            }
            rationaleContainerEl.innerHTML = '';
        }

        function selectAnswer(e) {
            const selectedBtn = e.target;
            const correct = selectedBtn.dataset.correct === 'true';

            if(correct) {
                score++;
            }

            Array.from(answerButtonsEl.children).forEach(button => {
                if(button.dataset.correct === 'true') {
                    button.classList.add('correct');
                } else {
                    button.classList.add('incorrect');
                }
                button.disabled = true;

                const rationaleText = button.dataset.rationale;
                const rationaleEl = document.createElement('div');
                rationaleEl.innerHTML = `<p class="mt-2 text-sm p-3 rounded-lg opacity-0 rationale ${button.dataset.correct === 'true' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">${rationaleText}</p>`;
                rationaleContainerEl.appendChild(rationaleEl);
                // Trigger transition
                setTimeout(() => {
                    rationaleEl.querySelector('.rationale').style.opacity = '1';
                }, 10);
            });

            nextBtn.classList.remove('hidden');
        }
        
        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            scoreTextEl.innerText = `${score}/${quizData.length}`;
            let message = '';
            const percentage = (score / quizData.length) * 100;
            if (percentage === 100) {
                message = '素晴らしい！全問正解です！';
            } else if (percentage >= 80) {
                message = '優秀です！深く理解されていますね。';
            } else if (percentage >= 50) {
                message = '良い調子です！もう一度挑戦して完璧を目指しましょう。';
            } else {
                message = 'お疲れ様でした。復習にもう一度挑戦してみましょう！';
            }
            scoreMessageEl.innerText = message;
        }

    </script>
</body>
</html>
